<?xml version="1.0" encoding="utf-8"?>
<UserControl x:Class="SolarAutomation.Views.CatiView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <ScrollViewer VerticalScrollBarVisibility="Auto"
                  HorizontalScrollBarVisibility="Auto">
        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Ürün Ekleme Formu -->
            <GroupBox Header="Yeni Sistem Ekle" Grid.Row="0" Margin="0,0,0,20">
                <Grid Margin="10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="150"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="150"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="150"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- İlk Satır -->
                    <Label Content="Panel:" Grid.Row="0" Grid.Column="0" Margin="0,0,10,10"/>
                    <TextBox x:Name="txtPanel" Grid.Row="0" Grid.Column="1" Margin="0,0,20,10"/>

                    <Label Content="İnvertör:" Grid.Row="0" Grid.Column="2" Margin="0,0,10,10"/>
                    <TextBox x:Name="txtInverter" Grid.Row="0" Grid.Column="3" Margin="0,0,20,10"/>

                    <Label Content="Kablo:" Grid.Row="0" Grid.Column="4" Margin="0,0,10,10"/>
                    <TextBox x:Name="txtKablo" Grid.Row="0" Grid.Column="5" Margin="0,0,20,10"/>

                    <!-- İkinci Satır -->
                    <Label Content="Konnektör:" Grid.Row="1" Grid.Column="0" Margin="0,0,10,10"/>
                    <TextBox x:Name="txtKonnektor" Grid.Row="1" Grid.Column="1" Margin="0,0,20,10"/>

                    <Label Content="Montaj:" Grid.Row="1" Grid.Column="2" Margin="0,0,10,10"/>
                    <TextBox x:Name="txtMontaj" Grid.Row="1" Grid.Column="3" Margin="0,0,20,10"/>

                    <Label Content="Sigorta:" Grid.Row="1" Grid.Column="4" Margin="0,0,10,10"/>
                    <TextBox x:Name="txtSigorta" Grid.Row="1" Grid.Column="5" Margin="0,0,20,10"/>

                    <!-- Ekle Butonu -->
                    <Button Content="Ekle" 
                            Grid.Row="1" 
                            Grid.Column="6" 
                            Width="80" 
                            Height="30"
                            Margin="10,0,0,0"
                            Click="Ekle_Click"/>
                </Grid>
            </GroupBox>

            <!-- Sistem Listesi -->
            <DataGrid x:Name="dgSistemler" 
                      Grid.Row="1" 
                      AutoGenerateColumns="False"
                      IsReadOnly="True"
                      SelectionMode="Single"
                      SelectionUnit="FullRow"
                      Margin="0,0,0,20">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Panel" Binding="{Binding Panel}" Width="150"/>
                    <DataGridTextColumn Header="İnvertör" Binding="{Binding Inverter}" Width="150"/>
                    <DataGridTextColumn Header="Kablo" Binding="{Binding Kablo}" Width="150"/>
                    <DataGridTextColumn Header="Konnektör" Binding="{Binding Konnektor}" Width="150"/>
                    <DataGridTextColumn Header="Montaj" Binding="{Binding Montaj}" Width="150"/>
                    <DataGridTextColumn Header="Sigorta" Binding="{Binding Sigorta}" Width="150"/>
                    <DataGridTemplateColumn Header="İşlem" Width="100">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <Button Content="Sil" 
                                        Click="Sil_Click"
                                        Background="{StaticResource TextSecondaryColor}"
                                        Foreground="White"/>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                </DataGrid.Columns>
            </DataGrid>

            <!-- Toplam -->
            <StackPanel Grid.Row="2" 
                        Orientation="Horizontal" 
                        HorizontalAlignment="Right"
                        Margin="0,0,0,0">
                <TextBlock Text="Toplam Sistem Sayısı: " 
                           FontSize="16" 
                           FontWeight="Medium"
                           VerticalAlignment="Center"/>
                <TextBlock x:Name="txtToplamSistem" 
                           Text="0" 
                           FontSize="16" 
                           FontWeight="Bold"
                           Margin="5,0,0,0"
                           VerticalAlignment="Center"/>
            </StackPanel>
        </Grid>
    </ScrollViewer>
</UserControl> 